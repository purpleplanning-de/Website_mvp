@import "tailwindcss";

@layer base {
  *,
  *::before,
  *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    background-color: #1a0b2e;
    overscroll-behavior-y: contain;
  }

  body {
    font-family: 'Plus Jakarta Sans', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    overscroll-behavior-y: contain;
  }

  /* Fluid Typography - Improved Readability */
  h1 {
    font-size: clamp(2.5rem, 4vw + 1rem, 4rem);
    line-height: 1.2;
  }

  h2 {
    font-size: clamp(2rem, 3vw + 0.5rem, 3rem);
    line-height: 1.25;
  }

  h3 {
    font-size: clamp(1.5rem, 2vw + 0.5rem, 2rem);
    line-height: 1.3;
  }

  h4 {
    font-size: clamp(1.25rem, 1.5vw + 0.25rem, 1.5rem);
    line-height: 1.4;
  }

  p {
    font-size: clamp(1rem, 0.5vw + 0.875rem, 1.125rem);
    line-height: 1.6;
  }

  /* Smooth scrollbar */
  ::-webkit-scrollbar {
    width: 5px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: rgba(147, 51, 234, 0.15);
    border-radius: 10px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(147, 51, 234, 0.35);
  }

  /* Selection */
  ::selection {
    background: rgba(147, 51, 234, 0.2);
    color: inherit;
  }

  /* Focus-visible for accessibility (WCAG 2.2) - Enhanced for better visibility */
  *:focus-visible {
    outline: 3px solid #a855f7;
    outline-offset: 2px;
    border-radius: 0.375rem;
    box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
  }

  /* Focus for dark backgrounds - better contrast */
  .dark *:focus-visible,
  [class*="bg-[#1a0b2e]"] *:focus-visible,
  [class*="bg-purple-9"] *:focus-visible {
    outline: 3px solid #c084fc;
    box-shadow: 0 0 0 3px rgba(192, 132, 252, 0.3);
  }

  /* Remove default outline for mouse users */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Button focus states - extra emphasis */
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    outline: 3px solid #a855f7;
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.2);
    transition: all 0.2s ease;
  }

  /* Screen reader only - visible only to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Make sr-only elements visible when focused */
  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: initial;
    margin: initial;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Keyframe definitions (not affected by cascade layers) */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-in-from-bottom-4 {
  from { transform: translateY(1rem); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slide-in-from-bottom-8 {
  from { transform: translateY(2rem); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slide-in-from-top-2 {
  from { transform: translateY(-0.5rem); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes scale-in {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@layer components {
  /* Standardized Animation Classes - 600ms for consistency */
  .animate-in {
    animation: fade-in 0.6s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .fade-in {
    animation: fade-in 0.6s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .slide-in-from-bottom-4 {
    animation: slide-in-from-bottom-4 0.6s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .slide-in-from-bottom-8 {
    animation: slide-in-from-bottom-8 0.6s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .slide-in-from-top-2 {
    animation: slide-in-from-top-2 0.3s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .scale-in {
    animation: scale-in 0.6s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .animate-in, .fade-in, .slide-in-from-bottom-4,
    .slide-in-from-bottom-8, .slide-in-from-top-2, .scale-in {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }

  /* Consistent section spacing with fluid values - 8px grid system */
  .section-spacing {
    padding-block: clamp(3rem, 8vw, 6rem);
  }

  .section-spacing-sm {
    padding-block: clamp(2rem, 4vw, 3rem);
  }

  .section-spacing-lg {
    padding-block: clamp(4rem, 10vw, 8rem);
  }

  /* Consistent margin utilities */
  .mb-section {
    margin-bottom: clamp(2rem, 6vw, 4rem);
  }

  .mt-section {
    margin-top: clamp(2rem, 6vw, 4rem);
  }

  /* Card hover lift effect */
  .card-hover {
    transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1),
                box-shadow 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .card-hover:hover {
    transform: translateY(-8px);
    box-shadow: 0 25px 50px -12px rgba(147, 51, 234, 0.12),
                0 12px 24px -8px rgba(0, 0, 0, 0.06);
  }

  /* Subtle card hover for smaller cards */
  .card-hover-subtle {
    transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1),
                box-shadow 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .card-hover-subtle:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 32px -8px rgba(147, 51, 234, 0.1),
                0 8px 16px -4px rgba(0, 0, 0, 0.04);
  }
}
